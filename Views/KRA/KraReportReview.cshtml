@* @model KraReportPagedReviewViewModel *@
<head>
    <style>
        h3 {
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid black; /* Changed to black */
        }

        th, td {
            border: 1px solid black; /* Changed to black */
            padding: 10px;
            text-align: center;
        }

        thead {
            background-color: #d9e8fb;
        }

        input, select {
            padding: 5px;
            border: 1px solid black; /* Changed to black */
            border-radius: 4px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            background-color: #f6f8fa;
            border: 2px solid black; /* Changed to black */
            cursor: pointer;
            font-weight: bold;
            color: #333;
            margin-left: 5%;
        }

            .tab.active {
                background-color: #3c6eb;
            }

        .tab-content {
            background-color: #ffffff;
            border: 1px solid black; /* Changed to black */
            padding: 20px;
            border-radius: 4px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        input, select, textarea, button {
            width: 100%;
            padding: 10px;
            border: 1px solid black; /* Changed to black */
            border-radius: 4px;
        }

        .table-container {
            margin-top: 20px;
            margin-bottom: 20px;
        }

        th {
            background-color: #e0e7ff;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

            .form-actions button {
                width: auto;
            }

        .toggle-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

            .toggle-group input {
                width: auto;
            }

        .form-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-row {
            display: flex;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .toggle-group {
            display: flex;
            gap: 4x.5rem;
            align-items: center;
        }

        .col-md-5 {
            width: 75.666667%;
        }

        .containerOne {
            width: 1227px !important;
        }


        .form-group textarea {
            width: 100%;
            height: 93px;
            padding: 18px;
            border: 1px solid black; /* Changed to black */
            outline: none;
            line-height: 31px;
        }

        .btn-primary.active, .btn-primary:active, .open > .dropdown-toggle.btn-primary {
            color: #000;
            background-color: #8CBAFF;
            border-color: black; /* Changed to black */
        }

        .table-bordered-black {
            border: 2px solid black; /* Changed to black */
            border-collapse: collapse;
        }

            .table-bordered-black th,
            .table-bordered-black td {
                border: 2px solid black; /* Changed to black */
            }

        .form-control {
            border-radius: 5px;
            font-size: 16px;
        }

        .center-container {
            display: flex;
            justify-content: end;
            align-items: end;
        }

        button {
            border-radius: 15px;
            width: 100px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>

</head>
<body>
    <div class="tabs">
        <a asp-action="KRAIndex" asp-controller="Kra" class="tab  btn btn-primary">KRA Generation</a>
        <a asp-action="Krareport" asp-controller="Kra" class="tab active btn btn-primary">KRAReport</a>
    </div>

    <div class="container">
        <label for="year">Select Year</label><br>
        <select type="text" id="year" name="year" style="width: 25%; border-radius:15px ; margin-bottom:20px"></select>
    </div>
    <section>
        @* @if (!string.IsNullOrEmpty(Model.SearchTerm)) *@
        @* { *@
        @*     <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script> *@

        @*     <script> *@
        @*         $(document).ready(function () { *@
        @*             var searchInput = $('#searchQuery'); *@
        @*             searchInput.focus(); *@

        @*             // Set the cursor at the end of the input field *@
        @*             var val = searchInput.val(); *@
        @*             searchInput.val('').val(val); // Clears and sets the value back to move the cursor to the end *@
        @*         }); *@
        @*     </script> *@
        @* } *@

        @* <div class="col-sm-12 col-md-6"> *@
        @*     <div id="example_filter" class="dataTables_filter" style="text-align: right;"> *@
        @*         <label> *@
        @*             Search: *@
        @*             <input type="search" id="searchQuery" value="@Model.SearchTerm" oninput="searchfilterquery();" style="margin-left:.5em;display: inline-block;width: auto;height: 6px;" class="form-control form-control-sm" placeholder="" aria-controls="example"> *@
        @*         </label> *@
        @*         <a asp-action="Create" class="add-task-btn-nav" id="openModalBtn" style="color: #000000;">+ Add new User</a> *@
        @*     </div> *@
        @* </div> *@


        <div style="margin-left:60px;">
            <table class="table table-bordered text-center align-middle table-bordered-red">
                <thead class="table-primary text-center">
                    <tr>
                        <th rowspan="2" style="vertical-align: middle;">SR. NO</th>
                        <th rowspan="2" style="vertical-align: middle;">KRA</th>
                        <th colspan="2">TARGET</th>
                        <th colspan="2">ACTUAL ACHIEVEMENT</th>
                        <th colspan="2">COMMENT</th>
                        <th colspan="2">RATING</th>
                        <th rowspan="2">FINAL RATING</th>
                    </tr>
                    <tr>
                        <th>QTY.</th>
                        <th>DEADLINE</th>
                        <th>QTY.</th>
                        <th>DEADLINE</th>
                        <th>SELF</th>
                        <th>REVIEWER</th>
                        <th>SELF</th>
                        <th>REVIEWER</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center">
                        <td>1</td>
                        <td>Automate process flow</td>
                        <td><input type="text" id="target_qty_1" class="form-control" /></td>
                        <td><input type="text" id="target_deadline_1" class="form-control" /></td>
                        <td><input type="text" id="actual_qty_1" class="form-control" /></td>
                        <td><input type="text" id="actual_deadline_1" class="form-control" /></td>
                        <td><input type="text" id="comment_self_1" class="form-control" /></td>
                        <td><input type="text" id="comment_reviewer_1" class="form-control" /></td>
                        <td><input type="text" id="rating_self_1" class="form-control" /></td>
                        <td><input type="text" id="rating_reviewer_1" class="form-control" /></td>
                        <td></td>
                    </tr>
                    <tr class="text-center">
                        <td>2</td>
                        <td>Enhance reporting dashboard</td>
                        <td><input type="text" id="target_qty_2" class="form-control" /></td>
                        <td><input type="text" id="target_deadline_2" class="form-control" /></td>
                        <td><input type="text" id="actual_qty_2" class="form-control" /></td>
                        <td><input type="text" id="actual_deadline_2" class="form-control" /></td>
                        <td><input type="text" id="comment_self_2" class="form-control" /></td>
                        <td><input type="text" id="comment_reviewer_2" class="form-control" /></td>
                        <td><input type="text" id="rating_self_2" class="form-control" /></td>
                        <td><input type="text" id="rating_reviewer_2" class="form-control" /></td>
                        <td></td>
                    </tr>


                </tbody>

            </table>
            @* <div class="custom-pagination"> *@
            @*     <div class="col-sm-12 col-md-5"> *@
            @*         @if (Model.TotalPages > 0) *@
            @*         { *@
            @*             <div class="dataTables_info" id="example_info" role="status" aria-live="polite" style="padding-top: 1rem !important;"> *@
            @*                 Showing @Model.PageSize of @Model.TotalPages entries *@
            @*             </div> *@
            @*         } *@
            @*         else *@
            @*         { *@
            @*             <div class="dataTables_info" id="example_info" role="status" aria-live="polite" style="padding-top: 1rem !important;"> *@
            @*                 No entries to show *@
            @*             </div> *@
            @*         } *@
            @*     </div> *@
            @*     <div class="col-sm-12 col-md-7"> *@
            @*         <div class="dataTables_paginate paging_simple_numbers" id="MainOrderTable_paginate" style="margin: 0;white-space: nowrap;text-align: right;"> *@
            @*             <ul class="pagination" style="margin: 2px 0;white-space: nowrap;justify-content: flex-end;"> *@
            @*                 <li class="paginate_button page-item previous @(Model.CurrentPage == 1 ? "disabled" : "")"> *@
            @*                     <a href="@Url.Action("KraReportReview", new { pageNumber = Model.CurrentPage - 1, searchTerm = Model.SearchTerm, pageSize = Model.PageSize })" class="page-link" @(Model.CurrentPage == 1 ? "tabindex='-1'" : "")>Previous</a> *@
            @*                 </li> *@

            @*                 @for (int i = 1; i <= Model.TotalPages; i++) *@
            @*                 { *@
            @*                     <li class="paginate_button page-item @(i == Model.CurrentPage ? "active" : "")"> *@
            @*                         <a href="@Url.Action("KraReportReview", new { pageNumber = i, searchTerm = Model.SearchTerm, pageSize = Model.PageSize })" class="page-link">@i</a> *@
            @*                     </li> *@
            @*                 } *@

            @*                 <li class="paginate_button page-item next @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")"> *@
            @*                     <a href="@Url.Action("KraReportReview", new { pageNumber = Model.CurrentPage + 1, searchTerm = Model.SearchTerm, pageSize = Model.PageSize })" class="page-link" @(Model.CurrentPage == Model.TotalPages ? "tabindex='-1'" : "")>Next</a> *@
            @*                 </li> *@
            @*             </ul> *@
            @*         </div> *@
            @*     </div> *@
            @* </div> *@

        </div>
        <div class="center-container">
            <button type="submit" class="tab active btn btn-primary">Submit</button>
        </div>


    </section>



    <script>
        // Get the current year
        const currentYear = new Date().getFullYear();

        // Set the starting year as 2000
        const startYear = 2000;

        // Select the year dropdown
        const yearDropdown = document.getElementById('year');

        // Generate a large number of year groups (let's say 100 years from 2000 onward)
        const numberOfYears = 100;  // Adjust this number based on how many years you want to show

        for (let i = 0; i < numberOfYears; i++) {
            const startYearGroup = startYear + i;
            const endYearGroup = startYearGroup + 1;
            const yearGroup = ${ startYearGroup }-${ endYearGroup.toString().slice(-2) };

            // Create an option element for each year group
            const option = document.createElement('option');
            option.value = yearGroup;
            option.textContent = yearGroup;

            // Append the option to the dropdown
            yearDropdown.appendChild(option);

            // Set the default selected year if the option matches the current year
            if (startYearGroup === currentYear) {
                option.selected = true;
            }
        }
    </script>
    <script>
        // Handling form submission
        document.querySelector('.btn-primary').addEventListener('click', function () {
            let data = [];

            // Loop through the rows to collect input data
            for (let i = 1; i <= 2; i++) {
                let row = {
                    sr_no: i,
                    target_qty: document.getElementById('target_qty_' + i).value,
                    target_deadline: document.getElementById('target_deadline_' + i).value,
                    actual_qty: document.getElementById('actual_qty_' + i).value,
                    actual_deadline: document.getElementById('actual_deadline_' + i).value,
                    comment_self: document.getElementById('comment_self_' + i).value,
                    comment_reviewer: document.getElementById('comment_reviewer_' + i).value,
                    rating_self: document.getElementById('rating_self_' + i).value,
                    rating_reviewer: document.getElementById('rating_reviewer_' + i).value
                };
                data.push(row);
            }

            // Here you could send the collected data to the server (AJAX or form submission)
            console.log(data);

            // Optionally, you can display an alert or perform further validation
            alert('Form Submitted Successfully');
        });
    </script>



</body>